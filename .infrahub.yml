---
rfiles:
  - name: device_startup
    description: "Template to generate startup configuration for network devices"
    query: "device_startup_info"
    repository: "self"
    template_path: "templates/device_startup_config.tpl.j2"

  - name: clab_topology
    query: "topology_info"
    repository: "self"
    template_path: "topology/topology.tpl.j2"

  - name: arista_avd_bgp_yaml
    query: "avd_bgp"
    repository: "self"
    template_path: "templates/arista_avd_bgp.yaml.j2"

artifact_definitions:
  - name: "Openconfig Interface for Arista devices"
    artifact_name: "openconfig-interfaces"
    parameters:
      device: "name__value"
    content_type: "application/json"
    targets: "arista_devices"
    transformation: "OCInterfaces"

  - name: "Startup Config for Edge devices"
    artifact_name: "startup-config"
    parameters:
      device: "name__value"
    content_type: "text/plain"
    targets: "edge_router"
    transformation: "device_startup"

  - name: "BGP variables for Arista AVD"
    artifact_name: "avdbgp"
    parameters:
      device: "name__value"
    content_type: "application/json"
    targets: "arista_devices"
    transformation: "AristaBGP"

  - name: "Config variables for Arista AVD"
    artifact_name: "avd_config"
    parameters:
      device: "name__value"
    content_type: "application/json"
    targets: "arista_devices"
    transformation: "AristaConfig"
